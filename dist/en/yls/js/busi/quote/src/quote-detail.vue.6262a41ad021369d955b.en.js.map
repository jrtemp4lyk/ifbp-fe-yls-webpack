{"version":3,"sources":["webpack:///webpack/bootstrap c5029e69af9e527451af?3d78********************************************","webpack:///./~/vue-loader/lib/component-normalizer.js?d4f3********************************************","webpack:///./src/apps/common/js/publicData.js?88d9*****************************************","webpack:///./src/apps/common/js/publicDataJson.js?2d75*****************************************","webpack:///quote-detail.vue","webpack:///./src/apps/pages/busi/quote/src/quote-detail.vue?96c3","webpack:///./src/apps/pages/busi/quote/src/quote-detail.vue?3fcf","webpack:///./src/apps/pages/busi/quote/src/quote-detail.vue?a869"],"names":["pageSizes","publicData","page","pageSize","pubScrHeight","window","screen","height","pubSize","storedSize","localStorage","getItem","includes","Number","pageSet","lowSet","midSet","highSet","pubPageMethods","requestName","mixin","data","currentPage","totalElements","methods","handleSizeChange","val","setItem","handleCurrentChange","changePage","pageIndex","pubSizes","pagination","pubPageSizes","ylsBase","ylsBusi","ylsSale","baseUrl"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACqFA;AACA;SAEA;gBACA;;AAEA;yDACA;AACA;eACA;AACA;wBACA;AACA;eACA;AACA;aACA;AACA;AACA;eACA;gBACA;eACA;AACA;gBACA;;cAGA;2BACA;kCACA;AACA;qFACA;AAGA;AARA,OADA;AAUA;0BACA;AACA;yCACA;oCACA;AACA;8CACA;AAEA;;AACA;uCACA;kCACA;AACA;4CACA;AAEA;;AACA;6CACA;wCACA;kDACA;AAEA;;AACA;uCACA;kCACA;4CACA;AACA;AACA;wCACA;mCACA;6CACA;AAEA;;AACA;yCACA;oCACA;8CACA;AACA;AACA;0CACA;qCACA;+CACA;AACA;AACA;AACA;;;AAGA;iCACA;mCACA;gFACA;sFACA;qDACA;AACA;kDACA;oFACA;wEACA;AACA;kDACA;8EACA;AAEA;;AACA;gFACA;iFACA;qDACA;6CACA;+EACA;8DACA;6CACA;8EACA;AAEA;;AACA;kFACA;mFACA;yDACA;iDACA;iFACA;kEACA;iDACA;8EACA;AACA;AACA;AACA;AACA;gCACA;mCACA;kFACA;4CACA;kFACA;AACA;AACA;AACA;qCACA;mCACA;kFACA;gDACA;4EACA;AACA;AACA;AACA;gCACA;mCACA;kFACA;uCACA;6EACA;AACA;AACA;AACA;iCACA;mCACA;kFACA;sCACA;4EACA;AACA;AACA;AACA;iCACA;mCACA;kFACA;yCACA;+EACA;AACA;AACA;AACA;kCACA;mCACA;kFACA;wCACA;8EACA;AACA;AAEA;AAvFA;AAyFA;;AACA;AACA;wBACA;yBACA;oBACA;8BACA;gCACA;oCACA;;iBAGA;gBAEA;AAHA,SADA;iBAMA;gBAGA;AAJA;mDAKA;sBACA;wBACA;AACA;AACA;;cAGA;gBACA;AACA;iDACA;AACA;kCACA;AACA;6CACA;AAGA;AAXA,OADA;AAcA;;AACA;AACA;wBACA;yBACA;oBACA;8BACA;gCACA;oCACA;;iBAGA;gBAEA;AAHA,SADA;iBAMA;gBAGA;AAJA;mDAKA;sBACA;wBACA;AACA;AACA;;cAGA;gBACA;AACA;iDACA;AACA;kCACA;AACA;6CACA;AAGA;AAXA,OADA;AAcA;;AACA;AACA;yBACA;0BACA;qBACA;AAEA;AAtPA;AAuPA;YACA;SACA;AACA;;AAEA;aACA;2BACA;AACA;AACA;aACA;;yFAEA;mCACA;gBACA;kBACA;mBACA;AALA,qBAMA;AACA;AACA;gCACA;oBACA;;mBAEA;gBAEA;AAHA;AAIA;AACA;AACA;kBACA;sBACA;AACA;AACA;oEACA;AACA;gBACA;iDACA;;yFAEA;AACA;gBACA;AACA;AAJA,qBAKA;qCACA;gDACA;wBACA;qCACA;sCACA,QACA,mBAEA;AACA;+BACA;AACA;+BACA;oBACA;;mBAEA;gBAEA;AAHA;AAIA;AACA;AAEA;;AACA;0BACA;+CACA;+CACA;iDACA;4CACA;;2FAEA;AACA;kBACA;gBACA;AAJA,uBAKA;yCACA;;uBAEA;oBAEA;AAHA;mDAIA;mCACA;iBACA;;sCAEA;oBAEA;AAHA;AAIA;sBACA;;qBAEA;kBAEA;AAHA;AAIA;aACA;;mBAEA;gBAEA;AAHA;AAIA;AACA;6BACA;4CACA;2BACA;0CACA;aACA;8CACA;2DACA;iDACA;0DACA;AACA;AACA;gCACA;4DACA;6CACA;4DAEA;;AACA;sDACA;iCAEA;AACA;kCACA;qBACA;8BACA;6BACA;AACA;AAEA;;AACA;0BACA;+CACA;+CACA;iDACA;4CACA;;2FAEA;kBACA;gBACA;AAHA,uBAIA;yCACA;;uBAEA;oBAEA;AAHA;mDAIA;mCACA;iBACA;;sCAEA;oBAEA;AAHA;AAIA;sBACA;;qBAEA;kBAEA;AAHA;AAKA;aACA;;mBAEA;gBAEA;AAHA;AAIA;AACA;6BACA;4CACA;2BACA;0CACA;aACA;8CACA;2DACA;iDACA;sDACA;AACA;AACA;gCACA;4DACA;6CACA;wDAEA;;AACA;sDACA;iCACA;AACA;kCACA;qBACA;8BACA;6BACA;AACA;AAEA;;AACA;eACA;4DACA;AACA;AACA;AACA;+CACA;AACA;gCACA;AACA;+BACA;AACA;+BACA;AACA;gCACA;aACA;wBACA;AACA;AACA;AACA;2BACA;;yFAEA;mCACA;gBACA;cACA;AAJA,qBAKA;qCACA;sCACA,QACA,6CAEA;oBACA;;mBAEA;gBAEA;AAHA;AAIA;AACA;AACA;0BACA;;yFAEA;mCACA;gBACA;cACA;AAJA,qBAKA;qCACA;kCACA,QACA,6CAEA;oBACA;;mBAEA;gBAEA;AAHA;AAIA;AACA;AACA;0BACA;;yFAEA;mCACA;gBACA;cACA;AAJA,qBAKA;qCACA;kCACA,QACA,yCAEA;oBACA;;mBAEA;gBAEA;AAHA;AAIA;AACA;AACA;2BACA;;yFAEA;mCACA;gBACA;cACA;AAJA,qBAKA;qCACA;mCACA,QACA,8CAEA;oBACA;;mBAEA;gBAEA;AAHA;AAIA;AAEA;;AACA;yBACA;uBACA;uCACA;iGACA;8CACA;iGACA;AACA;6BACA;;eAEA;qCACA;kBACA;oBACA;qBACA;AALA,uBAMA;yCACA;;uBAEA;oBAEA;AAHA;oCAIA;AACA;6CACA;qCACA;oDACA;qCACA;AACA;iBACA;;sCAEA;oBAEA;AAHA;AAIA;sBACA;;qBAEA;kBAEA;AAHA;AAIA;AACA;AAEA;AA7UA;AA9PA,G;;;;;;;ACtGA,yC;;;;;;;ACAA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,wCAAwC,mCAAmC;AAC3E,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH,CAAC,+BAA+B,aAAa,0BAA0B;AACvE;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH,CAAC,E;;;;;;;;AC3KD;AACA,uBAAyT;;AAEzT;AACA;AACA;AACA;AACA,yBAA+G;AAC/G;AACA;AACA;AACA;AACA;;AAEA","file":"yls/js//busi/quote/src/quote-detail.vue.6262a41ad021369d955b.en.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 786);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c5029e69af9e527451af","// this module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle\n\nmodule.exports = function normalizeComponent (\n  rawScriptExports,\n  compiledTemplate,\n  scopeId,\n  cssModules\n) {\n  var esModule\n  var scriptExports = rawScriptExports = rawScriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof rawScriptExports.default\n  if (type === 'object' || type === 'function') {\n    esModule = rawScriptExports\n    scriptExports = rawScriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (compiledTemplate) {\n    options.render = compiledTemplate.render\n    options.staticRenderFns = compiledTemplate.staticRenderFns\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  // inject cssModules\n  if (cssModules) {\n    var computed = Object.create(options.computed || null)\n    Object.keys(cssModules).forEach(function (key) {\n      var module = cssModules[key]\n      computed[key] = function () { return module }\n    })\n    options.computed = computed\n  }\n\n  return {\n    esModule: esModule,\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/component-normalizer.js\n// module id = 0\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197","import publicData from './publicDataJson.js';\r\nconst pageSizes = publicData.page.pageSizes;\r\nconst pageSize = (() => {\r\n        let pubScrHeight = window.screen.height;\r\n        let pubSize;\r\n        let storedSize = localStorage.getItem('yls-default-page-size');\r\n        if (storedSize != null && pageSizes.includes(Number(storedSize))) { //查找到存储的页显示条数且验证该页面存在页码数组中\r\n                pubSize = Number(storedSize);\r\n        } else {\r\n                if (pubScrHeight < 900) { //通过浏览器可视高度判断页页面显示条数\r\n                        pubSize = publicData.page.pageSet.lowSet;\r\n                } else if (pubScrHeight >= 900 && pubScrHeight < 1000) {\r\n                        pubSize = publicData.page.pageSet.midSet;\r\n                } else {\r\n                        pubSize = publicData.page.pageSet.highSet;\r\n                }\r\n        }\r\n        return pubSize;\r\n})();\r\nfunction pubPageMethods(requestName = 'request') {\r\n        let mixin = {\r\n                data() {\r\n                        return {\r\n                                pageSize,\r\n                                pageSizes,\r\n                                currentPage: 1,\r\n                                totalElements: 0\r\n                        }\r\n                },\r\n                methods: {\r\n                        handleSizeChange(val) {\r\n                                this.pageSize = val\r\n                                localStorage.setItem('yls-default-page-size', this.pageSize)\r\n                                this.currentPage = 1;\r\n                                this[requestName](this.currentPage - 1, this.pageSize)\r\n                        },\r\n                        handleCurrentChange(val) {\r\n                                this.currentPage = val;\r\n                                this[requestName](this.currentPage - 1, this.pageSize)\r\n                        },\r\n                        changePage(pageIndex) {\r\n                                this.currentPage = pageIndex;\r\n                                this[requestName](this.currentPage - 1, this.pageSize)\r\n                        }\r\n                }\r\n        };\r\n        return mixin;\r\n}\r\nfunction pubSizes() {\r\n        return pageSize\r\n}\r\nconst pagination = pubPageMethods\r\nconst pubPageSizes = pageSizes\r\nconst { ylsBase, ylsBusi, ylsSale } = publicData.baseUrl;\r\nexport { pubPageSizes, pubSizes, pubPageMethods, pagination };\r\nexport { ylsBase, ylsBusi, ylsSale };\n\n\n// WEBPACK FOOTER //\n// ./src/apps/common/js/publicData.js","let publicData={\r\n        page:{\r\n                        pageSizes:[10,20,30,40],\r\n                        pageSet:{            \r\n                                lowSet:10,\r\n                                midSet:10,\r\n                                highSet:20,\r\n                        }\r\n               },\r\n        baseUrl:{\r\n                        ylsBase:'/yls-base-web/',\r\n                        ylsBusi:'/yls-busi-web/',\r\n                        ylsSale:'/yls-sale-web/',\r\n                },\r\n}\r\nexport default publicData;\n\n\n// WEBPACK FOOTER //\n// ./src/apps/common/js/publicDataJson.js","<template>\r\n  <div class=\"main-panel\">\r\n    <!--节点title-->\r\n    <div class=\"title-container\">\r\n      <h2 class=\"name\">报价测算</h2>\r\n    </div>\r\n    <!-- 主体区域 -->\r\n    <div class=\"detail-main-container clearfix\">\r\n      <ifbp-panel-group :navbar=\"true\" :base-scroll-top=\"50\" :scroll-dom=\"scrollDom\" :base-nav-bar-top=\"125\"> \r\n        <div class=\"detail-button-header\">\r\n          <el-button class=\"fr\" type=\"primary\" @click=\"goBack\" >返回</el-button>\r\n          <el-button class=\"fr\" type=\"primary\" @click=\"onCalc\" style=\"margin-right:10px\" v-show=\"true\">测算</el-button>\r\n        </div>\r\n        <!-- 报价主模板 temp start-->\r\n        <ifbp-panel id=\"basePanel\" title=\"报价信息\" :icons=\"baseIcons\">\r\n          <ifbp-template ref=\"baseTemplateRef\"\r\n                    tplId=\"baseTemplate\"\r\n                    :funnode=\"funnode\"\r\n                    :nexuskey=\"nexusKey\"\r\n                    :methods=\"formReSetMethods\"\r\n                    :tpl-reset-fun=\"formResetFun\"\r\n                    show-type=\"form\"\r\n                    :tplData=\"tplData\"\r\n                    :editable=\"editable\">\r\n          </ifbp-template>\r\n          <div class=\"form-button-div\" v-if=\"editable\">\r\n            <el-button type=\"default\" class=\"button-no-radius\" @click=\"clickCancel\">取消</el-button>\r\n            <el-button type=\"primary\" class=\"button-no-radius\" @click=\"clickSave\">保存</el-button>\r\n          </div>\r\n        </ifbp-panel>\r\n        <!-- 报价主模板 temp end-->\r\n\r\n        <!-- 投放计划 temp start-->\r\n          <ifbp-panel id=\"loanPlanPanel\" title=\"投放计划\" :icons=\"loanPlanPlusIcons\">\r\n          <ifbp-template ref=\"loanPlanRef\"\r\n                        tplId=\"linkmanTemplate\"\r\n                        :funnode=\"loanPlan_funnode\"\r\n                        :nexuskey=\"loanPlan_nexusKey\"\r\n                        :tplData=\"loanPlanData\"\r\n                        :tplResetFun=\"loanPlanResetFun\"\r\n                        @form-confirm-click=\"loanPlanFormConfirm\"\r\n                        @form-cancel-click=\"loanPlanFormCancel\"\r\n                        @edit-table-click=\"loanPlanEditTableRow\"\r\n                        @delete-table-click=\"loanPlanDeleteTableRow\"\r\n                        show-type=\"table-form\"\r\n                        >\r\n          </ifbp-template>\r\n        </ifbp-panel>\r\n        <!-- 投放计划 temp end-->\r\n\r\n        <!-- 规则设置 temp start-->\r\n        <ifbp-panel id=\"loanRulePanel\" title=\"投放规则\" :icons=\"loanRulePlusIcons\">\r\n          <ifbp-template ref=\"loanRuleRef\"\r\n                        tplId=\"loanRuleTemplate\"\r\n                        :funnode=\"loanRule_funnode\"\r\n                        :nexuskey=\"loanRule_nexusKey\"\r\n                        :tplData=\"loanRuleData\"\r\n                        :tplResetFun=\"loanRuleResetFun\"\r\n                        @form-confirm-click=\"loanRuleFormConfirm\"\r\n                        @form-cancel-click=\"loanRuleFormCancel\"\r\n                        @edit-table-click=\"loanRuleEditTableRow\"\r\n                        @delete-table-click=\"loanRuleDeleteTableRow\"\r\n                        show-type=\"table-form\"\r\n                       >\r\n          </ifbp-template>\r\n        </ifbp-panel>\r\n        <!-- 规则设置 temp end-->\r\n\r\n        <!-- 租金计划表 temp start-->\r\n        <ifbp-panel id=\"inoutPlanPanel\" title=\"租金计划表\">\r\n          <ifbp-template ref=\"inoutPlanRef\"\r\n                        tplId=\"inoutPlanTemplate\"\r\n                        :funnode=\"inoutPlan_funnode\"\r\n                        :nexuskey=\"inoutPlan_nexusKey\"\r\n                        :tplData=\"inoutPlanData\"\r\n                        show-type=\"table\"\r\n                       >\r\n          </ifbp-template>\r\n        </ifbp-panel>\r\n        <!-- 租金计划表 temp end-->\r\n      </ifbp-panel-group>\r\n    </div>\r\n\r\n    <!--删除确认Dialog-->\r\n      <el-dialog\r\n        title=\"提示\"\r\n        v-model=\"delDialogVisible\"\r\n        @update:visible=\"val => delDialogVisible = val\"\r\n        :modal=\"true\"\r\n        size=\"tiny\">\r\n        <span>确认删除该数据？</span>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"delDialogVisible = false\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"deleteConfirmClick\">确 定</el-button>\r\n        </span>\r\n       </el-dialog>\r\n\r\n  </div>\r\n</template>\r\n<script>\r\nimport {ylsBusi} from '../../../../common/js/publicData.js'\r\nexport default {\r\n  data() {\r\n    let oThis = this;\r\n    return {\r\n      //固定写法\r\n      scrollDom: document.getElementsByClassName('view')[0],\r\n      //报价主键\r\n      pk_calc:'',\r\n      //删除对话框是否展示\r\n      delDialogVisible:false,\r\n      //删除标识，区分子表\r\n      delType:'',\r\n      //删除实体主键\r\n      delId:'',\r\n      // 报价主模板 baseTemplateRef start\r\n      // pk_temp:'a57c6167-ee45-434a-bff1-ed127f18f5d3',\r\n      funnode:\"BT007\",\r\n      nexusKey:\"CALC001\",\r\n      tplData:{},\r\n      //是否编辑态\r\n      editable:false,\r\n      baseIcons: [\r\n        {\r\n          icon: 'edit',\r\n          click: function() {\r\n            oThis.editable = !oThis.editable;\r\n            //备份数据，取消时使用\r\n            oThis.data = JSON.parse(JSON.stringify(oThis.$refs.baseTemplateRef.getData('QuoteCalculator')));\r\n          },\r\n        }\r\n      ],\r\n      //控件绑定事件\r\n      formResetFun($node){\r\n        //投放金额\r\n        let $loan_plan_cash = $node.find(\"el-number[v-model='QuoteCalculator.loan_plan_cash']\");\r\n        if($loan_plan_cash.length) {\r\n          // 添加绑定事件, 首付款绑定downPaymentChange\r\n          $loan_plan_cash.attr(\"v-on:change\", \"loanPlanCashChange\");\r\n        }\r\n\r\n         //首付款\r\n        let $down_payment = $node.find(\"el-number[v-model='QuoteCalculator.down_payment']\");\r\n        if($down_payment.length) {\r\n          // 添加绑定事件, 首付款绑定downPaymentChange\r\n          $down_payment.attr(\"v-on:change\", \"downPaymentChange\");\r\n        }\r\n\r\n        //首付款比例\r\n        let $down_payment_ratio = $node.find(\"el-percent[v-model='QuoteCalculator.down_payment_ratio']\");\r\n        if($down_payment_ratio.length) {\r\n          $down_payment_ratio.attr(\"v-on:change\", \"downPaymentRatioChange\");\r\n        }\r\n\r\n        //保证金\r\n        let $deposit_cash = $node.find(\"el-number[v-model='QuoteCalculator.deposit_cash']\");\r\n        if($deposit_cash.length) {\r\n          $deposit_cash.attr(\"v-on:change\", \"depositCashChange\");\r\n        }\r\n        //保证金比例\r\n        let $deposit_ratio = $node.find(\"el-percent[v-model='QuoteCalculator.deposit_ratio']\");\r\n        if($deposit_ratio.length) {\r\n          $deposit_ratio.attr(\"v-on:change\", \"depositRatioChange\");\r\n        }\r\n\r\n        //手续费\r\n        let $srvfee_cash_in = $node.find(\"el-number[v-model='QuoteCalculator.srvfee_cash_in']\");\r\n        if($srvfee_cash_in.length) {\r\n          $srvfee_cash_in.attr(\"v-on:change\", \"srvfeeCashInChange\");\r\n        }\r\n        //手续费比例\r\n        let $srvfee_ratio_in = $node.find(\"el-percent[v-model='QuoteCalculator.srvfee_ratio_in']\");\r\n        if($srvfee_ratio_in.length) {\r\n          $srvfee_ratio_in.attr(\"v-on:change\", \"srvfeeRatioInChange\");\r\n        }\r\n      },\r\n      //控件绑定事件实现\r\n      formReSetMethods:{\r\n\r\n        //投放金额\r\n        loanPlanCashChange(data){\r\n          if( data && data !== ''){\r\n            let down_payment = oThis.$refs.baseTemplateRef.comp.QuoteCalculator.down_payment;\r\n            let down_payment_ratio = oThis.$refs.baseTemplateRef.comp.QuoteCalculator.down_payment_ratio;\r\n            if(down_payment && down_payment!==''){\r\n              //计算首付款比例\r\n              down_payment_ratio = down_payment/data;\r\n              oThis.$refs.baseTemplateRef.comp.QuoteCalculator.down_payment_ratio = down_payment_ratio;\r\n            }else if(down_payment_ratio && down_payment_ratio!==''){\r\n              //计算首付款\r\n              down_payment = down_payment_ratio*data;\r\n              oThis.$refs.baseTemplateRef.comp.QuoteCalculator.down_payment = down_payment;\r\n            }\r\n\r\n            //保证金\r\n            let deposit_cash = oThis.$refs.baseTemplateRef.comp.QuoteCalculator.deposit_cash;\r\n            let deposit_ratio = oThis.$refs.baseTemplateRef.comp.QuoteCalculator.deposit_ratio;\r\n            if(deposit_cash && deposit_cash!==''){\r\n                deposit_ratio = deposit_cash/data;\r\n                oThis.$refs.baseTemplateRef.comp.QuoteCalculator.deposit_ratio = deposit_ratio;\r\n            }else if(deposit_ratio && deposit_ratio!==''){\r\n                deposit_cash = deposit_ratio*data;\r\n                oThis.$refs.baseTemplateRef.comp.QuoteCalculator.deposit_cash = deposit_cash;\r\n            }\r\n\r\n            //手续费\r\n            let srvfee_cash_in = oThis.$refs.baseTemplateRef.comp.QuoteCalculator.srvfee_cash_in;\r\n            let srvfee_ratio_in = oThis.$refs.baseTemplateRef.comp.QuoteCalculator.srvfee_ratio_in;\r\n            if(srvfee_cash_in && srvfee_cash_in!==''){\r\n                srvfee_ratio_in = srvfee_cash_in/data;\r\n                oThis.$refs.baseTemplateRef.comp.QuoteCalculator.srvfee_ratio_in = srvfee_ratio_in;\r\n            }else if(srvfee_ratio_in && srvfee_ratio_in!==''){\r\n                srvfee_cash_in = srvfee_ratio_in*data;\r\n                oThis.$refs.baseTemplateRef.comp.QuoteCalculator.deposit_cash = srvfee_cash_in;\r\n            }\r\n          }\r\n        },\r\n        //首付款失去焦点\r\n        downPaymentChange(data){\r\n          if( data && data !== ''){\r\n            let loan_plan_cash = oThis.$refs.baseTemplateRef.comp.QuoteCalculator.loan_plan_cash;\r\n            let down_payment_ratio = data/loan_plan_cash;\r\n            oThis.$refs.baseTemplateRef.comp.QuoteCalculator.down_payment_ratio = down_payment_ratio;\r\n          }\r\n        },\r\n        //首付款比例失去焦点\r\n        downPaymentRatioChange(data){\r\n          if( data && data !== ''){\r\n            let loan_plan_cash = oThis.$refs.baseTemplateRef.comp.QuoteCalculator.loan_plan_cash;\r\n            let down_payment = loan_plan_cash*data;\r\n            oThis.$refs.baseTemplateRef.comp.QuoteCalculator.down_payment = down_payment;\r\n          }\r\n        },\r\n        //保证金金额\r\n        depositCashChange(data){\r\n          if( data && data !== ''){\r\n            let loan_plan_cash = oThis.$refs.baseTemplateRef.comp.QuoteCalculator.loan_plan_cash;\r\n            let deposit_ratio = data/loan_plan_cash;\r\n            oThis.$refs.baseTemplateRef.comp.QuoteCalculator.deposit_ratio = deposit_ratio;\r\n          }\r\n        },\r\n         //保证金比例\r\n        depositRatioChange(data){\r\n          if( data && data !== ''){\r\n            let loan_plan_cash = oThis.$refs.baseTemplateRef.comp.QuoteCalculator.loan_plan_cash;\r\n            let deposit_cash = data*loan_plan_cash;\r\n            oThis.$refs.baseTemplateRef.comp.QuoteCalculator.deposit_cash = deposit_cash;\r\n          }\r\n        },\r\n        //服务费\r\n        srvfeeCashInChange(data){\r\n          if( data && data !== ''){\r\n            let loan_plan_cash = oThis.$refs.baseTemplateRef.comp.QuoteCalculator.loan_plan_cash;\r\n            let srvfee_ratio_in = data/loan_plan_cash;\r\n            oThis.$refs.baseTemplateRef.comp.QuoteCalculator.srvfee_ratio_in = srvfee_ratio_in;\r\n          }\r\n        },\r\n        //服务费比例\r\n        srvfeeRatioInChange(data){\r\n          if( data && data !== ''){\r\n            let loan_plan_cash = oThis.$refs.baseTemplateRef.comp.QuoteCalculator.loan_plan_cash;\r\n            let srvfee_cash_in = data*loan_plan_cash;\r\n            oThis.$refs.baseTemplateRef.comp.QuoteCalculator.srvfee_cash_in = srvfee_cash_in;\r\n          }\r\n        }\r\n      },\r\n      // 报价主模板 baseTemplateRef end\r\n\r\n      // 投放计划 loanPlanRef start\r\n      // loanPlan_pk_temp:'cece85f5-6732-4c39-ba6a-0d4810ca03f8',\r\n      loanPlan_funnode:\"BT007\",\r\n      loanPlan_nexusKey:\"CALC002\",\r\n      loanPlanData:{},\r\n      loanPlanResetFun($node) {\r\n        let $table = $node.find(\"el-table\");\r\n        $table.attr(':show-header','true');\r\n        let operateArr = [\r\n          {\r\n            title: '编辑',\r\n            icon: 'edit',\r\n          },\r\n          {\r\n            title: '删除',\r\n            icon: 'delete',\r\n          }\r\n        ];\r\n        let operateHtml = this.getTableOperateHtml(operateArr);\r\n        $table.append(operateHtml);\r\n        return $node[0].outerHTML;\r\n      },\r\n      //投放计划添加\r\n      loanPlanPlusIcons: [\r\n        {\r\n          icon: 'plus',\r\n          click () {\r\n             // 关闭table中的编辑区\r\n            oThis.$refs.loanPlanRef.getTableComp().closeExpandRow();\r\n            // 重置新增数据\r\n            oThis.$refs.loanPlanRef.resetFormData();\r\n            // 显示新增区域\r\n            oThis.$refs.loanPlanRef.formShow = true;\r\n          },\r\n        }\r\n      ],\r\n      // 投放计划 loanPlanRef end\r\n\r\n      // 规则设置 loanRuleRef start\r\n      // loanRule_pk_temp:'c286e256-19e3-4bdf-83d2-7d0a4111f346',\r\n      loanRule_funnode:\"BT007\",\r\n      loanRule_nexusKey:\"CALC003\",\r\n      loanRuleData:{},\r\n      loanRuleResetFun($node) {\r\n        let $table = $node.find(\"el-table\");\r\n        $table.attr(':show-header','true');\r\n        let operateArr = [\r\n          {\r\n            title: '编辑',\r\n            icon: 'edit',\r\n          },\r\n          {\r\n            title: '删除',\r\n            icon: 'delete',\r\n          }\r\n        ];\r\n        let operateHtml = this.getTableOperateHtml(operateArr);\r\n        $table.append(operateHtml);\r\n        return $node[0].outerHTML;\r\n      },\r\n       //投放规则添加\r\n      loanRulePlusIcons: [\r\n        {\r\n          icon: 'plus',\r\n          click() {\r\n            // 关闭table中的编辑区\r\n            oThis.$refs.loanRuleRef.getTableComp().closeExpandRow();\r\n            // 重置新增数据\r\n            oThis.$refs.loanRuleRef.resetFormData();\r\n            // 显示新增区域\r\n            oThis.$refs.loanRuleRef.formShow = true;\r\n          }\r\n        }\r\n      ],\r\n      // 规则设置 loanRuleRef end\r\n\r\n      // 租金计划表 inoutPlanRef start\r\n      // inoutPlan_pk_temp:\"ba531d61-3088-4abb-8531-ae6b165a3031\",\r\n      inoutPlan_funnode:\"BT007\",\r\n      inoutPlan_nexusKey:\"CALC004\",\r\n      inoutPlanData:{}\r\n      // 租金计划表 inoutPlanRef end\r\n    };\r\n  },\r\n  created() {\r\n    this.loadData();\r\n  },\r\n  methods: {\r\n     //返回按钮\r\n      goBack(){\r\n        window.history.back(-1);\r\n      },\r\n      //测算\r\n      onCalc(){\r\n        this.$http({\r\n          url: ylsBusi+'quote/calc/calculateById',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          method: 'post',\r\n          dataType: 'json',\r\n          data: this.pk_calc,\r\n        }).then(res => {\r\n          debugger;\r\n          //加载租金计划表\r\n          this.loadInoutPlan(this.pk_calc);\r\n        }).catch(e => {\r\n          this.$message({\r\n            message: '报价测算失败！',\r\n            type: 'error',\r\n          });\r\n        });\r\n      },\r\n      // 报价主模板 baseTemplateRef 事件处理 start\r\n      clickCancel(){\r\n        this.editable = false;\r\n        //恢复修改前值\r\n        // this.$refs.baseTemplateRef.setData('QuoteCalculator',this.data);\r\n        this.$refs[\"baseTemplateRef\"].setData('QuoteCalculator',this.data);\r\n      },\r\n      clickSave(){\r\n        let data = this.$refs.baseTemplateRef.comp.QuoteCalculator;\r\n        this.$http({\r\n            url: ylsBusi+'quote/calc/save',\r\n            // headers: {'Content-Type': 'application/json'},  \r\n            method: 'post',\r\n            data,\r\n        }).then(res => {\r\n            this.pk_calc = res.data.data.pk_quote_calculator;\r\n            location.hash = '/quote/detail/' + this.pk_calc;\r\n            this.editable = false;\r\n            let originalValue = res.data.data;\r\n            this.$refs[\"baseTemplateRef\"].setData(\r\n              'QuoteCalculator',\r\n              originalValue\r\n            );\r\n          //加载投放信息\r\n          this.loadLoanPlan(this.pk_calc);\r\n          //加载规则信息\r\n          this.loadPlanRule(this.pk_calc);\r\n        }).catch(e => {\r\n          this.$message({\r\n            message: '报价保存失败！',\r\n            type: 'error',\r\n          });\r\n        });\r\n      },\r\n      // 报价主模板 baseTemplateRef 事件处理 end\r\n\r\n      // 投放计划 loanPlanRef 事件处理 start\r\n      loanPlanFormConfirm(){\r\n        if( this.pk_calc  && this.pk_calc !== ''){\r\n          let data = this.$refs.loanPlanRef.comp.QuoteLoanPlan;\r\n          let jsonData = JSON.parse(JSON.stringify(data));\r\n          jsonData.pk_quote_calculator = this.pk_calc;\r\n          this.$http({\r\n            url: ylsBusi+'quote/loanPlan/save',\r\n            // headers: {'Content-Type': 'application/json'},  \r\n            method: 'post',\r\n            data:jsonData\r\n          }).then(res => {\r\n            if (res.data.success === true) {\r\n                  this.$message({\r\n                    message: '保存成功！',\r\n                    type: 'success',\r\n                  });\r\n                  this.$refs.loanPlanRef.comp.formShow = false;\r\n                  this.loadLoanPlan(this.pk_calc);\r\n                } else {\r\n                  this.$message({\r\n                    message: res.data.error.errorMessage,\r\n                    type: 'error',\r\n                  });\r\n                }\r\n          }).catch(e => {\r\n            this.$message({\r\n              message: '投放计划保存失败！',\r\n              type: 'error',\r\n            });\r\n          });\r\n        }else{\r\n          this.$message({\r\n                  message: '请先保存报价信息!',\r\n                  type: 'error'\r\n                });\r\n        }\r\n      },\r\n      loanPlanFormCancel(type){\r\n        this.$refs.loanPlanRef.getTableComp().closeExpandRow();\r\n        if (type === 'form') {\r\n          this.$refs.loanPlanRef.formShow = false;\r\n        } else {\r\n          this.$refs.loanPlanRef.getTableComp().closeExpandRow();\r\n          let loanPlanTable = this.$refs.loanPlanRef.getData('QuoteLoanPlan_t');\r\n          loanPlanTable[this.baseEditIndex] = this.baseData;\r\n          this.$refs.loanPlanRef.setData('QuoteLoanPlan_t', loanPlanTable);\r\n        }\r\n      },\r\n      loanPlanEditTableRow(scope){\r\n       this.$refs.loanPlanRef.getTableComp().expandRow(scope.row);\r\n       this.$refs.loanPlanRef.comp.formShow = false;\r\n       this.$refs.loanPlanRef.setData('QuoteLoanPlan',scope.row);\r\n\r\n      // 备份数据\r\n      this.baseData = JSON.parse(JSON.stringify(scope.row));\r\n      this.baseEditIndex = scope.$index;\r\n\r\n      },\r\n      loanPlanDeleteTableRow(scope){\r\n        this.delType = 'loanPlan';\r\n        this.delDialogVisible = true;\r\n        this.delId = scope.row.pk_quote_loan_plan;\r\n      },\r\n      // 投放计划 loanPlanRef 事件处理 end\r\n\r\n      // 规则设置 loanRuleRef 事件处理 start\r\n      loanRuleFormConfirm(){\r\n        if( this.pk_calc && this.pk_calc !== ''){\r\n          let data = this.$refs.loanRuleRef.comp.QuoteRule;\r\n          let jsonData = JSON.parse(JSON.stringify(data));\r\n          jsonData.pk_quote_calculator = this.pk_calc;\r\n          this.$http({\r\n            url:ylsBusi +'quote/rule/save',\r\n            method: 'post',\r\n            data:jsonData\r\n          }).then(res => {\r\n            if (res.data.success === true) {\r\n                  this.$message({\r\n                    message: '保存成功！',\r\n                    type: 'success'\r\n                  });\r\n                  this.$refs.loanRuleRef.comp.formShow = false;\r\n                  this.loadPlanRule(this.pk_calc);\r\n                } else {\r\n                  this.$message({\r\n                    message: res.data.error.errorMessage,\r\n                    type: \"error\"\r\n                  });\r\n                }\r\n          }).catch(e => {\r\n            this.$message({\r\n              message: '投放规则保存失败！',\r\n              type: 'error',\r\n            });\r\n          });\r\n\r\n        }else{\r\n          this.$message({\r\n                  message: '请先保存报价信息!',\r\n                  type: 'error',\r\n                });\r\n        }\r\n      },\r\n      loanRuleFormCancel(type){\r\n        this.$refs.loanRuleRef.getTableComp().closeExpandRow();\r\n        if (type === 'form') {\r\n          this.$refs.loanRuleRef.formShow = false;\r\n        } else {\r\n          this.$refs.loanRuleRef.getTableComp().closeExpandRow();\r\n          let loanRuleTable = this.$refs.loanRuleRef.getData('QuoteRule_t');\r\n          loanRuleTable[this.baseEditIndex] = this.baseData;\r\n          this.$refs.loanRuleRef.setData('QuoteRule_t', loanRuleTable);\r\n        }\r\n      },\r\n      loanRuleEditTableRow(scope){\r\n        this.$refs.loanRuleRef.getTableComp().expandRow(scope.row);\r\n        this.$refs.loanRuleRef.comp.formShow = false;\r\n        this.$refs.loanRuleRef.setData('QuoteRule',scope.row);\r\n\r\n        // 备份数据\r\n        this.baseData = JSON.parse(JSON.stringify(scope.row));\r\n        this.baseEditIndex = scope.$index;\r\n      },\r\n      loanRuleDeleteTableRow(scope){\r\n        this.delType = 'loanRule';\r\n        this.delDialogVisible = true;\r\n        this.delId = scope.row.pk_quote_rule;\r\n      },\r\n      // 规则设置 loanRuleRef 事件处理 end\r\n\r\n      //加载数据方法\r\n      loadData(){\r\n        this.pk_calc = this.$root.$router.currentRoute.params.id;\r\n        //router name\r\n        //this.$root.$router.currentRoute.name;\r\n        //详情页面\r\n        if(this.pk_calc && this.pk_calc !== ''){\r\n          //加载报价信息\r\n          this.loadQuoteCalc(this.pk_calc);\r\n          //加载投放信息\r\n          this.loadLoanPlan(this.pk_calc);\r\n          // //加载规则信息\r\n          this.loadPlanRule(this.pk_calc);\r\n          //加载租金计划表\r\n          this.loadInoutPlan(this.pk_calc);\r\n        }else{\r\n          this.editable = true;\r\n        }\r\n      },\r\n      //加载报价信息\r\n      loadQuoteCalc(pk_calc){\r\n        this.$http({\r\n            url: ylsBusi+'quote/calc/getById' ,\r\n            headers: {'Content-Type': 'application/json'},  \r\n            method: 'post',\r\n            data:pk_calc\r\n        }).then(res => {\r\n            let originalValue = res.data.data;\r\n            this.$refs['baseTemplateRef'].setData(\r\n              'QuoteCalculator',\r\n              JSON.parse(JSON.stringify(originalValue))\r\n            );\r\n        }).catch(e => {\r\n          this.$message({\r\n            message: '报价详情获取失败',\r\n            type: 'error',\r\n          });\r\n        });\r\n      },\r\n      //加载投放信息\r\n      loadLoanPlan(pk_calc){\r\n        this.$http({\r\n            url: ylsBusi+'quote/loanPlan/getByCalcId ',\r\n            headers: {'Content-Type': 'application/json'},  \r\n            method: 'post',\r\n            data:pk_calc\r\n        }).then(res => {\r\n            let originalValue = res.data.data;\r\n            this.$refs['loanPlanRef'].setData(\r\n              'QuoteLoanPlan_t',\r\n              JSON.parse(JSON.stringify(originalValue))\r\n            );\r\n        }).catch(e => {\r\n          this.$message({\r\n            message:' 投放计划获取失败',\r\n            type: 'error',\r\n          });\r\n        });\r\n      },\r\n      //加载规则信息\r\n      loadPlanRule(pk_calc){\r\n        this.$http({\r\n            url: ylsBusi+'quote/rule/getByCalcId' ,\r\n            headers: {'Content-Type': 'application/json'},  \r\n            method: 'post',\r\n            data:pk_calc\r\n        }).then(res => {\r\n            let originalValue = res.data.data;\r\n            this.$refs['loanRuleRef'].setData(\r\n              'QuoteRule_t',\r\n              JSON.parse(JSON.stringify(originalValue))\r\n            );\r\n        }).catch(e => {\r\n          this.$message({\r\n            message: '投放规则获取失败',\r\n            type: 'error',\r\n          });\r\n        });\r\n      },\r\n      //加载租金计划表\r\n      loadInoutPlan(pk_calc){\r\n        this.$http({\r\n            url: ylsBusi+'quote/inoutPlan/getByCalcId ',\r\n            headers: {'Content-Type': 'application/json'},  \r\n            method: 'post',\r\n            data:pk_calc\r\n        }).then(res => {\r\n            let originalValue = res.data.data;\r\n            this.$refs['inoutPlanRef'].setData(\r\n              'QuoteInoutPlan_t',\r\n              JSON.parse(JSON.stringify(originalValue))\r\n            );\r\n        }).catch(e => {\r\n          this.$message({\r\n            message: '租金计划表获取失败',\r\n            type: 'error',\r\n          });\r\n        });\r\n      },\r\n\r\n      //删除确定按钮\r\n    deleteConfirmClick() {\r\n      let requestUrl = '';\r\n      if(this.delType === 'loanRule'){\r\n        requestUrl = ylsBusi+'quote/rule/deleteById';\r\n      }else if(this.delType === 'loanPlan'){\r\n        requestUrl = ylsBusi+'quote/loanPlan/deleteById';\r\n      }\r\n      if(requestUrl !== ''){\r\n        this.$http({\r\n          url: requestUrl,\r\n          headers: { 'Content-Type': 'application/json' },\r\n          method:'post',\r\n          dataType: 'json',\r\n          data: this.delId\r\n        }).then(res => {\r\n          if (res.data.success === true) {\r\n            this.$message({\r\n              message: '删除成功',\r\n              type: 'success',\r\n            });\r\n            this.delDialogVisible = false;\r\n            //刷新列表\r\n            if(this.delType === 'loanRule'){\r\n              this.loadPlanRule(this.pk_calc);\r\n            }else if(this.delType === 'loanPlan'){\r\n              this.loadLoanPlan(this.pk_calc);\r\n            }\r\n          } else {\r\n            this.$message({\r\n              message: res.data.error.errorMessage,\r\n              type: 'error',\r\n            });\r\n          }\r\n        }).catch((e) => {\r\n          this.$message({\r\n            message: '删除失败',\r\n            type: 'error',\r\n          });\r\n        });\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style>\r\n  .detail-button-header {\r\n    height: 56px;\r\n    padding: 10px 20px;\r\n    background-color: #ffffff;\r\n    border-bottom: 1px solid #e3e3e3;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// quote-detail.vue?d5a69132","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-3a46ac1c\",\"scoped\":false,\"hasInlineConfig\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/apps/pages/busi/quote/src/quote-detail.vue\n// module id = 522\n// module chunks = 44","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"main-panel\"\n  }, [_vm._m(0), _vm._v(\" \"), _c('div', {\n    staticClass: \"detail-main-container clearfix\"\n  }, [_c('ifbp-panel-group', {\n    attrs: {\n      \"navbar\": true,\n      \"base-scroll-top\": 50,\n      \"scroll-dom\": _vm.scrollDom,\n      \"base-nav-bar-top\": 125\n    }\n  }, [_c('div', {\n    staticClass: \"detail-button-header\"\n  }, [_c('el-button', {\n    staticClass: \"fr\",\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.goBack\n    }\n  }, [_vm._v(\"返回\")]), _vm._v(\" \"), _c('el-button', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (true),\n      expression: \"true\"\n    }],\n    staticClass: \"fr\",\n    staticStyle: {\n      \"margin-right\": \"10px\"\n    },\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.onCalc\n    }\n  }, [_vm._v(\"测算\")])], 1), _vm._v(\" \"), _c('ifbp-panel', {\n    attrs: {\n      \"id\": \"basePanel\",\n      \"title\": \"报价信息\",\n      \"icons\": _vm.baseIcons\n    }\n  }, [_c('ifbp-template', {\n    ref: \"baseTemplateRef\",\n    attrs: {\n      \"tplId\": \"baseTemplate\",\n      \"funnode\": _vm.funnode,\n      \"nexuskey\": _vm.nexusKey,\n      \"methods\": _vm.formReSetMethods,\n      \"tpl-reset-fun\": _vm.formResetFun,\n      \"show-type\": \"form\",\n      \"tplData\": _vm.tplData,\n      \"editable\": _vm.editable\n    }\n  }), _vm._v(\" \"), (_vm.editable) ? _c('div', {\n    staticClass: \"form-button-div\"\n  }, [_c('el-button', {\n    staticClass: \"button-no-radius\",\n    attrs: {\n      \"type\": \"default\"\n    },\n    on: {\n      \"click\": _vm.clickCancel\n    }\n  }, [_vm._v(\"取消\")]), _vm._v(\" \"), _c('el-button', {\n    staticClass: \"button-no-radius\",\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.clickSave\n    }\n  }, [_vm._v(\"保存\")])], 1) : _vm._e()], 1), _vm._v(\" \"), _c('ifbp-panel', {\n    attrs: {\n      \"id\": \"loanPlanPanel\",\n      \"title\": \"投放计划\",\n      \"icons\": _vm.loanPlanPlusIcons\n    }\n  }, [_c('ifbp-template', {\n    ref: \"loanPlanRef\",\n    attrs: {\n      \"tplId\": \"linkmanTemplate\",\n      \"funnode\": _vm.loanPlan_funnode,\n      \"nexuskey\": _vm.loanPlan_nexusKey,\n      \"tplData\": _vm.loanPlanData,\n      \"tplResetFun\": _vm.loanPlanResetFun,\n      \"show-type\": \"table-form\"\n    },\n    on: {\n      \"form-confirm-click\": _vm.loanPlanFormConfirm,\n      \"form-cancel-click\": _vm.loanPlanFormCancel,\n      \"edit-table-click\": _vm.loanPlanEditTableRow,\n      \"delete-table-click\": _vm.loanPlanDeleteTableRow\n    }\n  })], 1), _vm._v(\" \"), _c('ifbp-panel', {\n    attrs: {\n      \"id\": \"loanRulePanel\",\n      \"title\": \"投放规则\",\n      \"icons\": _vm.loanRulePlusIcons\n    }\n  }, [_c('ifbp-template', {\n    ref: \"loanRuleRef\",\n    attrs: {\n      \"tplId\": \"loanRuleTemplate\",\n      \"funnode\": _vm.loanRule_funnode,\n      \"nexuskey\": _vm.loanRule_nexusKey,\n      \"tplData\": _vm.loanRuleData,\n      \"tplResetFun\": _vm.loanRuleResetFun,\n      \"show-type\": \"table-form\"\n    },\n    on: {\n      \"form-confirm-click\": _vm.loanRuleFormConfirm,\n      \"form-cancel-click\": _vm.loanRuleFormCancel,\n      \"edit-table-click\": _vm.loanRuleEditTableRow,\n      \"delete-table-click\": _vm.loanRuleDeleteTableRow\n    }\n  })], 1), _vm._v(\" \"), _c('ifbp-panel', {\n    attrs: {\n      \"id\": \"inoutPlanPanel\",\n      \"title\": \"租金计划表\"\n    }\n  }, [_c('ifbp-template', {\n    ref: \"inoutPlanRef\",\n    attrs: {\n      \"tplId\": \"inoutPlanTemplate\",\n      \"funnode\": _vm.inoutPlan_funnode,\n      \"nexuskey\": _vm.inoutPlan_nexusKey,\n      \"tplData\": _vm.inoutPlanData,\n      \"show-type\": \"table\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"提示\",\n      \"modal\": true,\n      \"size\": \"tiny\"\n    },\n    on: {\n      \"update:visible\": function (val) { return _vm.delDialogVisible = val; }\n    },\n    model: {\n      value: (_vm.delDialogVisible),\n      callback: function($$v) {\n        _vm.delDialogVisible = $$v\n      },\n      expression: \"delDialogVisible\"\n    }\n  }, [_c('span', [_vm._v(\"确认删除该数据？\")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.delDialogVisible = false\n      }\n    }\n  }, [_vm._v(\"取 消\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.deleteConfirmClick\n    }\n  }, [_vm._v(\"确 定\")])], 1)])], 1)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"title-container\"\n  }, [_c('h2', {\n    staticClass: \"name\"\n  }, [_vm._v(\"报价测算\")])])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-3a46ac1c\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/apps/pages/busi/quote/src/quote-detail.vue\n// module id = 622\n// module chunks = 44","\n/* styles */\nrequire(\"!!../../../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-3a46ac1c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!../../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./quote-detail.vue\")\n\nvar Component = require(\"!../../../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./quote-detail.vue\"),\n  /* template */\n  require(\"!!../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3a46ac1c\\\"}!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./quote-detail.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/apps/pages/busi/quote/src/quote-detail.vue\n// module id = 786\n// module chunks = 44"],"sourceRoot":""}