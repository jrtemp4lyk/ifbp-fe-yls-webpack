{"version":3,"sources":["webpack:///webpack/bootstrap c5029e69af9e527451af?3d78*********************************************************************************************************************************************************************************","webpack:///./~/vue-loader/lib/component-normalizer.js?d4f3*********************************************************************************************************************************************************************************","webpack:///./src/apps/common/js/publicData.js?88d9******************************************************************************************************************************************************************************","webpack:///./src/apps/pages/busi/customer/agent/creditgrant/agentbaseinfo.vue?14c5**","webpack:///./src/apps/pages/busi/customer/agent/creditgrant/agentbaseinfo.vue?9f65*","webpack:///./src/apps/common/js/publicDataJson.js?2d75******************************************************************************************************************************************************************************","webpack:///agentbaseinfo.vue?3669*"],"names":["pageSizes","publicData","page","pageSize","pubScrHeight","window","screen","height","pubSize","storedSize","localStorage","getItem","includes","Number","pageSet","lowSet","midSet","highSet","pubPageMethods","requestName","mixin","data","currentPage","totalElements","methods","handleSizeChange","val","setItem","handleCurrentChange","changePage","pageIndex","pubSizes","pagination","pubPageSizes","ylsBase","ylsBusi","ylsSale","baseUrl"],"mappings":"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AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH,CAAC,qB;;;;;;;AC9ED;AACA;AACA;AACA;AACA,yBAAkH;AAClH;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;ACXA,IAAIpC,aAAW;AACPC,cAAK;AACWF,2BAAU,CAAC,EAAD,EAAI,EAAJ,EAAO,EAAP,EAAU,EAAV,CADrB;AAEWc,yBAAQ;AACAC,gCAAO,EADP;AAEAC,gCAAO,EAFP;AAGAC,iCAAQ;AAHR;AAFnB,SADE;AASPoB,iBAAQ;AACQH,yBAAQ,gBADhB;AAEQC,yBAAQ,gBAFhB;AAGQC,yBAAQ;AAHhB;AATD,CAAf;AAeA,yDAAenC,UAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC4BA;AACA;2CAEA;SAEA;;gBACA;sDACA;AACA;4DACA;AACA;AACA;iCACA;0BACA;6BACA;eACA;;yBAEA;+BAEA;AAHA;AAIA;6FAEA;uCACA;oBACA;4CAEA;AALA,yBAOA;;2CACA;AACA;mBACA;gDACA;AACA;AACA,yBACA;+BACA;AACA;AACA;AACA;AACA;sCACA;0BACA;6BACA;eACA;gCACA;AACA;AACA;uDAEA,CACA;AACA;;AAEA;aACA;wBACA;yBACA;iBACA;mBACA;kBACA;aACA;mBACA;mBACA;gBACA;AACA;kDACA;AACA;6CACA;AACA;;iBAGA;gBAEA;AAHA,SADA;iBAMA;gBAGA;AAJA;AAKA;mDACA;uBAEA;;AACA;iDACA;4CACA;sDACA;AACA;AACA;uCACA;8CAEA;;AACA;qDACA;gDACA;0DACA;AACA;AACA;AACA;2CACA;kDACA;AACA;yCACA;gDAEA;;wBACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACA;;AAEA;kCACA;mCACA;AACA;6BACA;sCACA;oCACA;AACA,oCACA;oCACA;sCACA;mBACA;oCACA;sCACA;AACA;AACA;AACA;AACA;8BACA;mCACA;+BACA;wCACA;mBACA;wCACA;AACA;AAEA;AAEA;AA7BA;;gDA+BA;iCACA;0CACA;4EACA;AACA;AACA;gDACA;iCACA;0CACA;4EACA;AACA;AACA;gDACA;iCACA;0CACA;4EACA;AACA;AAGA;AApBA;;;kBAsBA;kCACA;gCACA;8BACA;;yEAEA;wEACA;0BAIA;AANA;AALA;AA7HA;AAyIA;AACA;;yBAEA;kBACA;AAGA;;AALA;AAMA;;qBAEA;WACA;AACA;kBACA;uBACA;AAEA;AAPA;AAQA;YACA,CACA;AACA;YACA;SACA;AACA;;AAIA;;;cACA;8BACA;AACA;qEACA;2BACA;yBACA;AACA;AACA;uDACA;mDACA;AACA;AACA;8CACA;oCACA;AACA;2BACA;eACA;AACA;AACA;AACA;AACA;mBACA;UACA;oBACA;sBACA;;;uBAIA;sBAGA;AAJA,SADA;mBAMA;oBACA;;;uBAMA;AAJA;AADA;AATA;;aAgBA;mCACA;gBACA;cACA;kBACA;AALA,qBAMA;AACA;0CACA;2CACA,QACA,wCAEA;0DACA;wCACA;oBACA;;mBAEA;gBAEA;AAHA;AAIA;AACA;AACA;0BACA;AACA;oBACA;;yFAEA;mCACA;gBACA;cACA;kBACA;AALA,qBAMA;qCACA;;6BAEA;wCADA,CAEA;AACA;yBACA;oBACA;oBACA;;mBAEA;gBAEA;AAHA;AAIA;AACA;AACA;iBACA;+BACA;sCACA,QACA,sCAEA;sCACA;sCACA;yBACA;AAEA;;AACA;kBACA;UACA;oBACA;sBACA;sBACA;;aAEA;mCACA;gBACA;cACA;kBACA;AALA,qBAMA;qCACA;wCACA,QACA,yCAEA;wDACA;oBACA;;mBAEA;gBAEA;AAHA;AAKA;AAEA;;AACA;0CACA;6BACA;AACA;yBACA;AAEA;;AACA;uCACA;AACA;AACA;;yFAEA;mCACA;gBACA;kBACA;mBACA;AALA,qBAMA;uCACA;;qBAEA;kBAEA;AAHA;6BAIA;eACA;AACA;;oCAEA;kBAEA;AAHA;AAIA;aACA;oBACA;AACA;;mBAEA;gBAEA;AAHA;AAKA;AACA;AACA;yCACA;wBACA;AACA;2BACA;wDACA;aACA;uDACA;AACA;AACA;AACA;sCACA;AACA;AACA;sDACA;uDACA;mDACA;AACA;mCACA;AACA;oCACA;sDACA;kCACA;mDACA;AACA;eACA;aACA;4BACA;kBACA;oBACA;AACA;AACA;2CACA,MACA,mCACA;mBACA;;2BAEA;uCACA;oBACA;4CAEA;AALA,yBAMA;2CAEA;;;yBAEA;sBAEA;AAHA;4CAIA;oDACA;mDACA;+BACA;mBACA;AACA;mFACA;gEACA;AACA;8DACA;mBACA;;wCAEA;sBAEA;AAHA;AAIA;AACA,wBACA;;uBAEA;oBAEA;AAHA;AAIA;AACA;AACA;AAEA;;AACA;AACA;AACA;AACA;AACA;6CACA;AACA;AACA;8BACA;qEACA;sDACA;gEACA;uBACA;AACA;sDACA;iCACA;AAGA;;AA1QA;AAnNA,G","file":"yls/js//busi/customer/agent/creditgrant/agentbaseinfo.vue.de2f95f1a3b284fca43e.en.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 161);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c5029e69af9e527451af","// this module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle\n\nmodule.exports = function normalizeComponent (\n  rawScriptExports,\n  compiledTemplate,\n  scopeId,\n  cssModules\n) {\n  var esModule\n  var scriptExports = rawScriptExports = rawScriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof rawScriptExports.default\n  if (type === 'object' || type === 'function') {\n    esModule = rawScriptExports\n    scriptExports = rawScriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (compiledTemplate) {\n    options.render = compiledTemplate.render\n    options.staticRenderFns = compiledTemplate.staticRenderFns\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  // inject cssModules\n  if (cssModules) {\n    var computed = Object.create(options.computed || null)\n    Object.keys(cssModules).forEach(function (key) {\n      var module = cssModules[key]\n      computed[key] = function () { return module }\n    })\n    options.computed = computed\n  }\n\n  return {\n    esModule: esModule,\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/component-normalizer.js\n// module id = 0\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197","import publicData from './publicDataJson.js';\r\nconst pageSizes = publicData.page.pageSizes;\r\nconst pageSize = (() => {\r\n        let pubScrHeight = window.screen.height;\r\n        let pubSize;\r\n        let storedSize = localStorage.getItem('yls-default-page-size');\r\n        if (storedSize != null && pageSizes.includes(Number(storedSize))) { //查找到存储的页显示条数且验证该页面存在页码数组中\r\n                pubSize = Number(storedSize);\r\n        } else {\r\n                if (pubScrHeight < 900) { //通过浏览器可视高度判断页页面显示条数\r\n                        pubSize = publicData.page.pageSet.lowSet;\r\n                } else if (pubScrHeight >= 900 && pubScrHeight < 1000) {\r\n                        pubSize = publicData.page.pageSet.midSet;\r\n                } else {\r\n                        pubSize = publicData.page.pageSet.highSet;\r\n                }\r\n        }\r\n        return pubSize;\r\n})();\r\nfunction pubPageMethods(requestName = 'request') {\r\n        let mixin = {\r\n                data() {\r\n                        return {\r\n                                pageSize,\r\n                                pageSizes,\r\n                                currentPage: 1,\r\n                                totalElements: 0\r\n                        }\r\n                },\r\n                methods: {\r\n                        handleSizeChange(val) {\r\n                                this.pageSize = val\r\n                                localStorage.setItem('yls-default-page-size', this.pageSize)\r\n                                this.currentPage = 1;\r\n                                this[requestName](this.currentPage - 1, this.pageSize)\r\n                        },\r\n                        handleCurrentChange(val) {\r\n                                this.currentPage = val;\r\n                                this[requestName](this.currentPage - 1, this.pageSize)\r\n                        },\r\n                        changePage(pageIndex) {\r\n                                this.currentPage = pageIndex;\r\n                                this[requestName](this.currentPage - 1, this.pageSize)\r\n                        }\r\n                }\r\n        };\r\n        return mixin;\r\n}\r\nfunction pubSizes() {\r\n        return pageSize\r\n}\r\nconst pagination = pubPageMethods\r\nconst pubPageSizes = pageSizes\r\nconst { ylsBase, ylsBusi, ylsSale } = publicData.baseUrl;\r\nexport { pubPageSizes, pubSizes, pubPageMethods, pagination };\r\nexport { ylsBase, ylsBusi, ylsSale };\n\n\n// WEBPACK FOOTER //\n// ./src/apps/common/js/publicData.js","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('ifbp-template', {\n    ref: \"agentbaseTemplateRef\",\n    attrs: {\n      \"tplId\": \"baseTemplate\",\n      \"funnode\": _vm.agentbasefunnode,\n      \"nexuskey\": _vm.agentbasenexuskey,\n      \"show-type\": \"table-form\",\n      \"methods\": _vm.formReSetMethods,\n      \"tplResetFun\": _vm.templateTableFormResetFun,\n      \"tplData\": _vm.customerData,\n      \"editable\": _vm.agentEdit\n    },\n    on: {\n      \"form-confirm-click\": _vm.agentbaseFormConfirm,\n      \"form-cancel-click\": _vm.agentbaseFormCancel,\n      \"delete-table-click\": _vm.tableDeleteClickRow,\n      \"search-table-click\": _vm.updateagentbaseDataRow\n    }\n  }), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"提示\",\n      \"modal\": true,\n      \"size\": \"tiny\"\n    },\n    model: {\n      value: (_vm.custVisible),\n      callback: function($$v) {\n        _vm.custVisible = $$v\n      },\n      expression: \"custVisible\"\n    }\n  }, [_c('span', [_vm._v(\"确认删除该条记录 ？删除后无法恢复\")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.custVisible = false, this.delId = ''\n      }\n    }\n  }, [_vm._v(\"取 消\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.tableDeleteClick\n    }\n  }, [_vm._v(\"确 定\")])], 1)]), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"提示\",\n      \"modal\": true,\n      \"size\": \"tiny\"\n    },\n    model: {\n      value: (_vm.isGetEntity),\n      callback: function($$v) {\n        _vm.isGetEntity = $$v\n      },\n      expression: \"isGetEntity\"\n    }\n  }, [_c('span', [_vm._v(\"输入客户已经存在，请确认是否带出并自动填入\")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.isGetEntity = false, this.delId = ''\n      }\n    }\n  }, [_vm._v(\"不 带\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.fillInDate\n    }\n  }, [_vm._v(\"带 出\")])], 1)])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-5f411faf\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/apps/pages/busi/customer/agent/creditgrant/agentbaseinfo.vue\n// module id = 148\n// module chunks = 12 16 178","var Component = require(\"!../../../../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./agentbaseinfo.vue\"),\n  /* template */\n  require(\"!!../../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5f411faf\\\"}!../../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./agentbaseinfo.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/apps/pages/busi/customer/agent/creditgrant/agentbaseinfo.vue\n// module id = 161\n// module chunks = 12 16 178","let publicData={\r\n        page:{\r\n                        pageSizes:[10,20,30,40],\r\n                        pageSet:{            \r\n                                lowSet:10,\r\n                                midSet:10,\r\n                                highSet:20,\r\n                        }\r\n               },\r\n        baseUrl:{\r\n                        ylsBase:'/yls-base-web/',\r\n                        ylsBusi:'/yls-busi-web/',\r\n                        ylsSale:'/yls-sale-web/',\r\n                },\r\n}\r\nexport default publicData;\n\n\n// WEBPACK FOOTER //\n// ./src/apps/common/js/publicDataJson.js","<template>\n<div>\n      <!--代理商基本信息模块界面-->\n          <ifbp-template ref=\"agentbaseTemplateRef\"\n                    tplId=\"baseTemplate\"\n                    :funnode=\"agentbasefunnode\"\n                    :nexuskey=\"agentbasenexuskey\"\n                    @form-confirm-click=\"agentbaseFormConfirm\"\n                    @form-cancel-click=\"agentbaseFormCancel\"\n                    show-type=\"table-form\"\n                    :methods=\"formReSetMethods\"\n                    :tplResetFun=\"templateTableFormResetFun\"\n                    :tplData=\"customerData\"\n                    :editable=\"agentEdit\"                  \n                    @delete-table-click=\"tableDeleteClickRow\"\n                    @search-table-click=\"updateagentbaseDataRow\">\n          </ifbp-template>\n          <el-dialog\n            title=\"提示\"\n            v-model=\"custVisible\"\n            :modal=\"true\"\n            size=\"tiny\">\n            <span>确认删除该条记录 ？删除后无法恢复</span>\n            <span slot=\"footer\" class=\"dialog-footer\">\n              <el-button @click=\"custVisible = false, this.delId=''\">取 消</el-button>\n              <el-button type=\"primary\" @click=\"tableDeleteClick\">确 定</el-button>\n            </span>\n          </el-dialog>\n\n           <el-dialog\n            title=\"提示\"\n            v-model=\"isGetEntity\"\n            :modal=\"true\"\n            size=\"tiny\">\n            <span>输入客户已经存在，请确认是否带出并自动填入</span>\n            <span slot=\"footer\" class=\"dialog-footer\">\n              <el-button @click=\"isGetEntity = false, this.delId=''\">不 带</el-button>\n              <el-button type=\"primary\" @click=\"fillInDate\">带 出</el-button>\n            </span>\n          </el-dialog>\n  </div>\n</template>\n<script>\nimport {ylsBusi} from '../../../../../common/js/publicData.js';\nexport default {\n  props:['pkCustomerVal','credit_grant','editable'],\n  data() {\n\n    let oThis = this;\n    let validator = function(rule, value, callback) {};\n    //校验\n    let validatecustomer = function(rule, value, callback) {\n      debugger;\n      //证件号码唯一校验\n      if (rule.field === \"1111\") {\n        if (value === \"\") {\n          callback(new Error(\"证件号不能为空\"));\n        } else {\n          let datam = {\n            identity_no: value,\n            pk_customer:oThis.pk_customer\n          };\n          oThis\n            .$http({\n              url: ylsBusi + \"cust/customer/checkOnlyOne\",\n              headers: { \"Content-Type\": \"application/json\" },\n              method: \"post\",\n              data: JSON.parse(JSON.stringify(datam))\n            })\n            .then(res => {\n              \n              if (res.data.success === true) {\n                callback();\n              } else {\n                callback(new Error(res.data.error.errorMessage));\n              }\n            })\n            .catch(() => {\n              callback(new Error(\"后台服务有误，请联系管理员！\"));\n            });\n        }\n      }\n      //代理商名称\n      if(rule.field===\"cust_name\"){\n        if (value === '') {\n          callback(new Error('代理商名称不能为空'));\n        } else {\n          oThis.agentByCustName(value);\n          callback();\n        }\n      }else if(rule.field ==='org_codecertificate'){\n\n      }\n    };\n    return {\n      //显示的标题\n      title: '',\n      agentbasefunnode:'BT004',\n      agentbasenexuskey:'agentbaseinfo',\n      scrollDom: \"ifbpScrollDom\",\n      pk_customer: '',\n      rmoveindex: \"\",\n      delId: \"\",\n      custVisible :false,\n      isGetEntity:false,\n      fillData:'',\n      //操作按钮\n      templateTableFormResetFun:function($node){\n          //获取table,此id为ui模板上面的表格Id\n          let $table = this.getNodeById($node, \"jkcwc96ndh8\");\n          //定义操作\n          let operateArr = [\n              {\n                  title:\"查看\",\n                  icon:\"search\"\n              },\n              {\n                  title:\"删除\",\n                  icon:\"delete\"\n              }\n          ];\n          //获取操作按钮html片段\n          let operateHtml = this.getTableOperateHtml(operateArr);\n          $table.prepend(operateHtml);\n          \n          // 判断是否有所属厂商\n          let $CustCorp_have_belongto = $node.find(\"el-select[v-model='CustCorp.have_belongto']\");\n          if($CustCorp_have_belongto.length){\n             $CustCorp_have_belongto.attr(\"v-on:change\",\"havebelongtoFun\");\n          }\n          // 所属厂商及所属事业部绑定属性\n          let $manufacturer = $node.find(\"el-ref[field='manufacturer'], el-select[v-model='CustCorp.hava_busi_division']\");\n          $manufacturer.attr('v-bind:disabled', 'belongToIsDisabled');\n\n          // 判断是否有三证或者一证  \n          let $CustCorp_three_certifcates = $node.find(\"el-select[v-model='CustCorp.three_certifcates']\");\n          if($CustCorp_three_certifcates.length){\n               $CustCorp_three_certifcates.attr(\"v-on:change\",\"threeCertifcatesFun\");\n          }\n          debugger;\n          // 三证属性绑定\n          let $threeCertifcates = $node.find(\"el-input[v-model='CustCorp.org_codecertificate'], el-input[v-model='CustCorp.license_no'],el-input[v-model='CustCorp.tax_registercode']\");\n          $threeCertifcates.attr('v-bind:disabled', 'threeCertifcates');\n          // 一证属性绑定\n          let $oneCertifcates = $node.find(\"el-input[v-model='CustCorp.society_credit']\");\n          $oneCertifcates.attr('v-bind:disabled','oneCertifcates');\n\n          return $node[0].outerHTML;\n      },\n      //代理商基本信息修改\n      //级联参照\n      // corpResetFun: function($node) {\n      //   var $refNode1 = this.getNodeById($node, 'w85l2pcqcf');  //开户行省\n      //    var $refNode2 = this.getNodeById($node, 'gu0cc609z7q');\n      //     var $refNode3 = this.getNodeById($node, 'vijgevbe1li');\n          \n\n      //   if($refNode1.length) {\n      //     $refNode1.attr(\"v-on:trigger\", \"handleRefChange1\"); \n      //   }\n      //   if($refNode2.length) {\n      //     $refNode2.attr(\"v-on:trigger\", \"handleRefChange2\"); \n      //   }\n      //   if($refNode3.length) {\n      //     $refNode3.attr(\"v-on:trigger\", \"handleRefChange3\"); \n      //   }\n        \n      // },\n      formReSetMethods:{\n          // 三证或一证\n          threeCertifcatesFun(data){\n             if(data && data !==''){\n               debugger;\n               if(data == 'Y'){\n                  this.threeCertifcates = false;\n                  this.oneCertifcates = true;\n               }\n               else if(data == 'N'){\n                  this.oneCertifcates = false;\n                  this.threeCertifcates = true;\n               }else{\n                  this.oneCertifcates = true;\n                  this.threeCertifcates = true;\n               }\n             }\n          },\n          // 是否有厂商\n          havebelongtoFun(data){\n              if(data && data !==''){\n                 if(data==\"YES\"){\n                    this.belongToIsDisabled = false;\n                 }else{\n                    this.belongToIsDisabled = true;\n                 }\n              }\n              \n          } \n      },\n      t_Methods: {\n        handleRefChange1: function(type, data) {\n          if(type === 'change') {\n            var innerCode = data.value[0].refcode;\n            oThis.$refs.baseTemplateRef1.comp.$refs.h_ref.changeQueryParams(innerCode);\n          }\n        },\n        handleRefChange2: function(type, data) {\n          if(type === 'change') {\n            var innerCode = data.value[0].refcode;\n            oThis.$refs.baseTemplateRef1.comp.$refs.m_ref.changeQueryParams(innerCode);\n          }\n        },\n        handleRefChange3: function(type, data) {\n          if(type === 'change') {\n            var innerCode = data.value[0].refcode;\n            oThis.$refs.baseTemplateRef1.comp.$refs.s_ref.changeQueryParams(innerCode);\n          }\n        }\n      },\n     \n      customerData: {\n        customer: {},\n        belongToIsDisabled: true,//所属厂商的disabled熟悉设置\n        threeCertifcates:true,//判断是否有三证\n        oneCertifcates:true,//判断是一证\n        rules: {\n          cust_name: [{validator: validatecustomer, trigger: \"blur\" }], //代理商名称校验\n          org_codecertificate: [{ validator: validatecustomer, trigger: \"blur\" }],\n          cusotmer_class: []\n        }\n      },\n    };\n  },\n   //监听引用传参后实时变动\n  computed: {\n    currentpk_customer() {\n      return this.pk_customer;\n    },\n    \n  },\n   //监听参数变动后方法\n  watch: {\n    pk_customer(val) {\n      this.request();\n    },\n    editable(val) {\n      this.agentEdit = val;\n    }\n  },\n  //获取数据数据初始化操作\n  created() {\n  },\n  //页面操作\n  mounted() {\n    this.request(); \n  },\n  methods: {\n    /**\n      *   初始响应方法\n      **/\n    request() {\n      this.pk_customer =  this.pkCustomerVal;\n      //请求企业客户基本信息详情\n      if(this.pk_customer===undefined || this.pk_customer===''){\n        this.pk_customer='';\n        this.agentEdit=true;\n        // this.agentRequest();\n        debugger\n        this.$refs.agentbaseTemplateRef.getTableComp().closeExpandRow();\n        this.$refs.agentbaseTemplateRef.formShow = true;\n        return;\n      }\n      if (this.credit_grant == \"creditgrant\") {\n        if (this.pk_customer != \"\") {\n          // this.requestCustBaseInfo();\n          this.agentEdit=false;\n          this.requestByPk();        \n        }\n      }\n    },\n     //后台请求\n    agentRequest() {\n      let url;\n      let baseUrl =  ylsBusi;\n      url = baseUrl + 'cust/corp/pageAgent';\n      let data = {\n          \"orderList\": [\n              {\n                  \"direction\": \"desc\",\n                  \"property\": \"ts\"\n              }\n          ],\n          \"pageNum\": 0,\n          \"pageSize\": 200,\n          \"searchParams\": {\n          \"searchMap\": {\n            \"creator\":\"102440\",\n            }\n          }\n      };\n      this.$http({\n          url: url,\n          headers: {'Content-Type': 'application/json'},\n          method: \"post\",\n          data: data,\n          dataType: \"json\"\n      }).then(res => {\n          //UI模板表格名称\n          let originalValue = res.data.data.content;\n          this.$refs['agentbaseTemplateRef'].setData(\n              \"CustCorp_t\",\n              JSON.parse(JSON.stringify(originalValue))\n          );\n          this.totalElements = res.data.data.totalElements; // 总条数\n          this.size = res.data.data.size; // 每页的条数\n          }).catch((e) => {\n              this.$message({\n                  message: \"信息获取失败\",\n                  type: \"error\"\n              });\n          });\n      },\n    // 客户回写\n    agentByCustName(name){\n         debugger;\n         let nameVal = name;\n          this.$http({\n                    url: ylsBusi+'cust/corp/getEntityByCustName',\n                    headers: {'Content-Type': 'application/json'},\n                    method: 'post',\n                    data:nameVal,\n                    dataType: 'json'\n                }).then(res => {\n                  let originalValue = res.data.data;\n                  if(res.data.success == true && originalValue !=null){\n                    this.isGetEntity = true;\n                    this.fillData = originalValue;//给回写的数据赋值\n                  } \n                  this.agentEdit = true;\n                }).catch((e) => {\n                    console.log(e);\n                    this.$message({\n                        message: '信息获取失败',\n                        type: 'error',\n                    });\n                });        \n    },\n    // 带出后填入数据\n    fillInDate(){\n        let originalValue = this.fillData;\n        this.$refs.agentbaseTemplateRef.setData(\n            'CustCorp',\n            JSON.parse(JSON.stringify(originalValue))\n        );\n        let pk_customer = originalValue.pk_customer;\n        this.$emit('change-agent-base',pk_customer);\n        this.isGetEntity = false;\n    },\n    \n    // 通过pk获取对象\n    requestByPk(){\n      let url;\n      let baseUrl =  ylsBusi;\n      url = baseUrl + \"cust/corp/getByPkCustomer\";\n      let data = this.pk_customer;\n      this.$http({\n          url: url,\n          headers: {'Content-Type': 'application/json'},\n          method: \"post\",\n          data: data,\n          dataType: \"json\"\n      }).then(res=>{\n          let originalValue = res.data.data;\n          this.$refs.agentbaseTemplateRef.setData(\n            \"CustCorp_t\",\n            JSON.parse(JSON.stringify([originalValue]))\n          );\n           this.$refs.agentbaseTemplateRef.comp.formShow = false;\n      }).catch((e)=>{\n          this.$message({\n            message: \"代理商基本信息详情获取失败\",\n            type: \"error\"\n          });\n      })\n      \n    }, \n    \n    // 弹出删除提示框\n    tableDeleteClickRow: function(scope) {\n        this.delId = scope.row.pk_cust_corp;\n        // this.agentRequest();\n        this.custVisible = true;\n    },\n    \n    //确认后调用删除\n    tableDeleteClick:function(scope){\n          debugger;\n          // let delId = scope.row.pk_cust_customer;\n          this.$http({\n              url:  ylsBusi+\"cust/corp/deleteCustcpAndCust\",\n              headers: { 'Content-Type': 'application/json' },\n              method: \"post\",\n              dataType: \"json\",\n              data: this.delId\n              }).then(res => {\n              if (res.data.success === true) {\n                  this.$message({\n                  message: \"删除成功\",\n                  type: \"success\"\n                  });     \n                  this.custVisible = false;    \n              } else {\n                debugger;\n                  this.$message({\n                  message: res.data.error.errorMessage,\n                  type: \"error\"\n                  });\n              }\n              this.agentRequest();\n              }).catch((e) => {\n                debugger;\n                  this.$message({\n                      message: \"信息删除失败！\",\n                      type: \"error\"\n                  });\n              });\n              \n    },\n     //代理商form取消按钮\n    agentbaseFormCancel: function(type) {\n      this.rmoveindex = \"\";\n      //关闭表单或者是下拉显示行\n      if (type === \"form\") {\n        this.$refs.agentbaseTemplateRef.comp.formShow = false;\n      } else {\n        this.$refs.agentbaseTemplateRef.getTableComp().closeExpandRow();\n      }\n    },\n    //代理商主表保存\n    agentbaseFormConfirm: function() {\n      debugger;\n      //获取当前数据\n      let data = this.$refs.agentbaseTemplateRef.comp.customer;\n      let data1 = this.$refs.agentbaseTemplateRef.comp.CustCorp;\n      let jsonCustomer = JSON.parse(JSON.stringify(data));\n      //设置为企业客户\n      jsonCustomer.customer_type = 'CORP';\n      //客户设置为代理商\n      jsonCustomer.cusotmer_class = 'yls_dev100000000ffv';\n      let jsonCustCorpObj = JSON.parse(JSON.stringify(data1));\n      jsonCustCorpObj.cust_type = 'CORP';\n      jsonCustomer.customer_name = jsonCustCorpObj.cust_name;\n      // let a=[data1];\n      let a=[jsonCustCorpObj];\n      data = jsonCustomer;\n      data.cust_corp_list=a;\n      console.log(data);\n       let baseUrl = ylsBusi;\n      //保存校验\n      debugger;\n      this.$refs.agentbaseTemplateRef.comp.$refs[\n        \"CustCorp-form\"\n      ].validate(valid => {\n        if (valid) {\n          this.$http({\n            url: baseUrl + \"cust/customer/orgAnddept\",\n            headers: { \"Content-Type\": \"application/json\" },\n            method: \"post\",\n            data: JSON.parse(JSON.stringify(data))\n          })\n            .then(res => {\n              if (res.data.success === true) {\n                \n                this.$message({\n                  message: \"保存成功！\",\n                  type: \"success\"\n                });\n                this.originalValue = res.data.data;\n                this.pk_customer=this.originalValue.pk_cust_customer;\n                this.$emit('change-agent-base',this.pk_customer);\n                this.agentEdit = false;\n                this.agentRequest();\n                debugger;\n                this.$parent.$parent.$parent.$refs.operationTable.pk_customer =  this.pk_customer;\n                this.$parent.$parent.$parent.$refs.operationTable.reqOptByPkCustomer();\n                //隐藏详情列表\n                this.$refs.agentbaseTemplateRef.comp.formShow = false;\n              } else {\n                this.$message({\n                  message: res.data.error.errorMessage,\n                  type: \"error\"\n                });\n              }\n            })\n            .catch((e) => {\n              this.$message({\n                message: \"更新失败\",\n                type: \"error\"\n              });\n            });\n        }\n      });\n    },\n\n    // customerCancel() {\n    //   this.agentEdit = false;\n    //   // 重置value\n    // },\n    //代理商编辑\n    updateagentbaseDataRow: function(scope) {\n      //记录删除位置\n      debugger;\n      this.rmoveindex = scope.$index;\n      this.$refs.agentbaseTemplateRef.getTableComp().expandRow(scope.row);\n      this.$refs.agentbaseTemplateRef.comp.formShow = false;\n      this.$refs.agentbaseTemplateRef.setData('CustCorp',scope.row);\n      this.agentEdit = true;\n      // 备份数据\n      this.baseData = JSON.parse(JSON.stringify(scope.row));\n      this.baseEditIndex = scope.$index;\n    }\n    \n  }\n};\n</script>>\n\n\n// WEBPACK FOOTER //\n// agentbaseinfo.vue?e7b15d10"],"sourceRoot":""}